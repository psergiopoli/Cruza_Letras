"use strict";define("elements",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.win_message=t.question=t.cell=t.empty_cell=t.line_end=t.line_start=t.RIGHT_ASCII=t.LEFT_ASCII=t.DOWN_ASCII=t.UP_ASCII=t.question_text=t.question_direction=t.cell_value=t.cell_id=t.cell_attributes=void 0,t.cell_attributes="{CELL_ATTR}",t.cell_id="{CELL_ID}",t.cell_value="{CELL_VALUE}",t.question_direction="{DIRECTION}",t.question_text="{Q_TEXT}",t.UP_ASCII="↑",t.DOWN_ASCII="↓",t.LEFT_ASCII="←",t.RIGHT_ASCII="→",t.line_start='<div class="line">',t.line_end="</div>",t.empty_cell='<div class="cell"></div>',t.cell=`
<div class="cell"><input ${t.cell_attributes} id="${t.cell_id}" type="text" value="${t.cell_value}" maxlength="1"></div>
`,t.question=`
<div class="tooltip-container cell">
    <button id="show-tooltip">${t.question_direction}</button><div class="tooltip" id="tooltip"><p>${t.question_text}</p></div>
</div>
`,t.win_message="<div><h2>Acertou todas, parabéns!</h2></div>"}),define("timer",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.startTimer=t.loadTimer=void 0;let o,n;function i(e){o=o||setInterval(function(){n++,r(),e.timer=n},1e3)}function r(){var e=Math.floor(n/60),t=n%60;document.getElementById("time").innerText=`Tempo: ${e}:`+(t<10?"0":"")+t}t.loadTimer=function(e){n=e.timer,r(),0!=n&&i(e)},t.startTimer=i}),define("trys",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.updateTrys=t.loadTrys=void 0;let o;t.loadTrys=function(e){o=e.trys,document.getElementById("trys").innerText="Erros: "+o},t.updateTrys=function(e){null!=o&&(o++,e.trys=o,document.getElementById("trys").innerText="Erros: "+o)}}),define("util",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isNotToday=t.disableElement=t.setFocus=t.setHtmlOnElement=t.load=t.save=t.log=t.gameBoardId=void 0;function n(e){console.log(e)}t.gameBoardId="LOCAL_STORAGE_GAME_BOARD",t.log=n,t.save=function(e,t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),n("Dados salvos com sucesso no Local Storage com o ID: "+e)}catch(e){console.error("Erro ao salvar dados no Local Storage: "+e)}},t.load=function(e){try{var t,o=localStorage.getItem(e);return null!==o?(t=JSON.parse(o),n("Dados recuperados do Local Storage com o ID: "+e),t):(n("Nenhum dado encontrado no Local Storage com o ID: "+e),null)}catch(e){return console.error("Erro ao recuperar dados do Local Storage: "+e),null}},t.setHtmlOnElement=function(e,t){var o=document.getElementById(e);o?o.innerHTML=t:console.error(`elemento: ${e} não existe`)},t.setFocus=function(e){(e=document.getElementById(e))?e.focus():console.error(`elemento: ${e} não existe`)},t.disableElement=function(e){var t=document.getElementById(e);t?t.disabled=!0:console.error(`Element with ID '${e}' not found.`)},t.isNotToday=function(e){var t;return!e||(t=new Date,(e=new Date(e.date)).getDate()!==t.getDate())||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}}),define("app",["require","exports","elements","elements","elements","timer","trys","util"],function(e,t,s,l,a,c,d,u){Object.defineProperty(t,"__esModule",{value:!0}),t.checkInput=t.run=t.Board=void 0;const m=12,_=12;var v,o;(o=v=v||{})[o.EMPTY=0]="EMPTY",o[o.CORRECT=1]="CORRECT",o[o.WRONG=2]="WRONG";class p{constructor(e,t,o,n,i){this.answer=e,this.isQuestion=t,this.text=o,this.input=n,this.direction=i}}class n{constructor(){this.date=new Date,this.timer=0,this.trys=0,this.win=!1,this.matrix=Array.from({length:m},()=>Array(_).fill(null))}}t.Board=n;class i{constructor(e,t){this.ascii=e,this.doDirection=t}}i.UP=new i(s.UP_ASCII,(e,t)=>({x:e,y:t-1})),i.DOWN=new i(s.DOWN_ASCII,(e,t)=>({x:e,y:t+1})),i.LEFT=new i(s.LEFT_ASCII,(e,t)=>({x:e-1,y:t}));const f=[{id:1,value:"TYPESCRIPT",question:"Um superconjunto tipado de JavaScript.",found:!1,direction:i.RIGHT=new i(s.RIGHT_ASCII,(e,t)=>({x:e+1,y:t})),x:0,y:1,elements:[]},{id:2,value:"HTML",question:"Linguagem de Marcação de Hipertexto.",found:!1,direction:i.RIGHT,x:0,y:2,elements:[]},{id:3,value:"ELETROBRAS",question:"Companhia brasileira de distribuição de energia elétrica.",found:!1,direction:i.DOWN,x:4,y:0,elements:[]},{id:4,value:"CORINTHIANS",question:"Time de futebol que tem mundial em cima do Vasco da Gama.",found:!1,direction:i.DOWN,x:6,y:0,elements:[]},{id:5,value:"TENDER",question:"Comida típica de natal, em formato de bola.",found:!1,direction:i.DOWN,x:2,y:3,elements:[]},{id:6,value:"SALADA",question:"Criança não gosta de comer.",found:!1,direction:i.UP,x:5,y:11,elements:[]}];let I;function y(){(0,u.save)(u.gameBoardId,I)}t.run=function(){(0,u.log)("loaded"),e=(0,u.load)(u.gameBoardId),t=(0,u.isNotToday)(e),(0,u.log)("wipeBoard:"+t);var e,t=null==e||t?function(){const r=new n;return f.forEach(o=>{let n=o.x,i=o.y;var e=new p(v.EMPTY,!0,o.question,"",o.direction);o.elements.push(e),r.matrix[n][i]=e,Array.from(o.value).forEach(e=>{var t=o.direction.doDirection(n,i),t=(n=t.x,i=t.y,new p(v.EMPTY,!1,e,"",o.direction));o.elements.push(t),r.matrix[n][i]=t})}),r}():e;I=t,(0,u.log)(f),(0,u.log)(t),(0,c.loadTimer)(t),(0,d.loadTrys)(t),(0,u.setHtmlOnElement)("puzzle",function(e){let n="";for(let o=0;o<m;o++){n+=l.line_start;for(let t=0;t<_;t++){var i=e.matrix[t][o];if(i)if(i.isQuestion)n+=l.question.replace(a.question_direction,i.direction.ascii).replace(a.question_text,i.text);else{let e="";i.answer==v.WRONG&&i.input?e='class="wrong"':i.answer==v.CORRECT&&i.input&&(e='class="correct"');var r="onkeypress=checkInput(event) "+e;n+=l.cell.replace(a.cell_attributes,r).replace(a.cell_id,`cell_${t}_`+o).replace(s.cell_value,i.input)}else n+=l.empty_cell}n+=l.line_end}return n}(t)),t.win&&(0,u.setHtmlOnElement)("message",s.win_message)},t.checkInput=function(e){e.preventDefault();var t=document.getElementById(e.target.id);if(t){var o=t.value,e=(t.value=e.key.toUpperCase(),t.setSelectionRange(0,0),t.id.split("_")),n=parseInt(e[1]),e=parseInt(e[2]),i=t.value,n=I.matrix[n][e],n=(n.input=i,e=t,(i=n).text.toLowerCase()===i.input.toLowerCase()?(i.answer=v.CORRECT,e.classList.remove("wrong"),e.classList.add("correct"),!0):(i.answer=v.WRONG,e.classList.remove("correct"),e.classList.add("wrong"),!1)),r=(!0==n?(0,u.disableElement)(t.id):o!=t.value&&(0,d.updateTrys)(I),y(),(0,c.startTimer)(I),I);for(let t=0;t<m;t++)for(let e=0;e<_;e++){var l=r.matrix[e][t];if(l&&l.isQuestion,l&&0==l.isQuestion&&(l.answer==v.WRONG||l.answer==v.EMPTY))return}r.win=!0,y(),(0,u.setHtmlOnElement)("message",s.win_message)}}});