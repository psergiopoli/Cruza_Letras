"use strict";define("elements",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.win_message=t.question=t.cell=t.empty_cell=t.line_end=t.line_start=t.RIGHT_ASCII=t.LEFT_ASCII=t.DOWN_ASCII=t.UP_ASCII=t.question_text=t.question_direction=t.cell_value=t.cell_id=t.cell_attributes=void 0,t.cell_attributes="{CELL_ATTR}",t.cell_id="{CELL_ID}",t.cell_value="{CELL_VALUE}",t.question_direction="{DIRECTION}",t.question_text="{Q_TEXT}",t.UP_ASCII="↑",t.DOWN_ASCII="↓",t.LEFT_ASCII="←",t.RIGHT_ASCII="→",t.line_start='<div class="line">',t.line_end="</div>",t.empty_cell='<div class="cell"></div>',t.cell=`
<div class="cell"><input ${t.cell_attributes} id="${t.cell_id}" type="text" value="${t.cell_value}" maxlength="1"></div>
`,t.question=`
<div class="tooltip-container cell">
    <button id="show-tooltip">${t.question_direction}</button><div class="tooltip" id="tooltip"><p>${t.question_text}</p></div>
</div>
`,t.win_message="<div><h2>Acertou todas, parabéns!</h2></div>"}),define("timer",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.pauseTimer=t.startTimer=t.loadTimer=void 0;let n,o;function i(e){n=n||setInterval(function(){o++,r(),e.timer=o},1e3)}function r(){var e=Math.floor(o/60),t=o%60;document.getElementById("time").innerText=`Tempo: ${e}:`+(t<10?"0":"")+t}t.loadTimer=function(e){o=e.timer,r(),0==o||e.win||i(e)},t.startTimer=i,t.pauseTimer=function(e){n&&(console.log("asdasdasd"),clearInterval(n))}}),define("trys",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.updateTrys=t.loadTrys=void 0;let n;t.loadTrys=function(e){n=e.trys,document.getElementById("trys").innerText="Erros: "+n},t.updateTrys=function(e){null!=n&&(n++,e.trys=n,document.getElementById("trys").innerText="Erros: "+n)}}),define("util",["require","exports"],function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.isNotToday=t.disableElement=t.setFocus=t.setHtmlOnElement=t.load=t.save=t.log=t.gameBoardId=void 0;function o(e){console.log(e)}t.gameBoardId="LOCAL_STORAGE_GAME_BOARD",t.log=o,t.save=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n),o("Dados salvos com sucesso no Local Storage com o ID: "+e)}catch(e){console.error("Erro ao salvar dados no Local Storage: "+e)}},t.load=function(e){try{var t,n=localStorage.getItem(e);return null!==n?(t=JSON.parse(n),o("Dados recuperados do Local Storage com o ID: "+e),t):(o("Nenhum dado encontrado no Local Storage com o ID: "+e),null)}catch(e){return console.error("Erro ao recuperar dados do Local Storage: "+e),null}},t.setHtmlOnElement=function(e,t){var n=document.getElementById(e);n?n.innerHTML=t:console.error(`elemento: ${e} não existe`)},t.setFocus=function(e){(e=document.getElementById(e))?e.focus():console.error(`elemento: ${e} não existe`)},t.disableElement=function(e){var t=document.getElementById(e);t?t.disabled=!0:console.error(`Element with ID '${e}' not found.`)},t.isNotToday=function(e){var t;return!e||(t=new Date,(e=new Date(e.date)).getDate()!==t.getDate())||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}}),define("app",["require","exports","elements","elements","elements","timer","trys","util"],function(e,t,s,l,a,c,u,d){Object.defineProperty(t,"__esModule",{value:!0}),t.checkInput=t.run=t.Direction=t.Board=void 0;const m=12,v=12;var _,n;(n=_=_||{})[n.EMPTY=0]="EMPTY",n[n.CORRECT=1]="CORRECT",n[n.WRONG=2]="WRONG";class I{constructor(e,t,n,o,i){this.answer=e,this.isQuestion=t,this.text=n,this.input=o,this.direction=i}}class o{constructor(){this.date=new Date,this.timer=0,this.trys=0,this.win=!1,this.matrix=Array.from({length:m},()=>Array(v).fill(null))}}t.Board=o;class i{constructor(e,t){this.ascii=e,this.doDirection=t}}(t.Direction=i).UP=new i(s.UP_ASCII,(e,t)=>({x:e,y:t-1})),i.DOWN=new i(s.DOWN_ASCII,(e,t)=>({x:e,y:t+1})),i.LEFT=new i(s.LEFT_ASCII,(e,t)=>({x:e-1,y:t}));i.RIGHT=new i(s.RIGHT_ASCII,(e,t)=>({x:e+1,y:t}));const f=[{id:1,value:"PALCO",question:"1",found:!1,direction:i.RIGHT,x:1,y:1,elements:[]},{id:2,value:"OCULOS",question:"2",found:!1,direction:i.DOWN,x:6,y:0,elements:[]},{id:3,value:"ABRIR",question:"3",found:!1,direction:i.DOWN,x:3,y:0,elements:[]},{id:4,value:"BISCOITO",question:"4",found:!1,direction:i.RIGHT,x:2,y:2,elements:[]},{id:5,value:"LIDER",question:"5",found:!1,direction:i.DOWN,x:4,y:0,elements:[]},{id:6,value:"CARRO",question:"6",found:!1,direction:i.RIGHT,x:0,y:5,elements:[]},{id:7,value:"SATIRA",question:"7",found:!1,direction:i.RIGHT,x:5,y:6,elements:[]},{id:8,value:"OLHAR",question:"8",found:!1,direction:i.DOWN,x:10,y:1,elements:[]}];let p;function y(){(0,d.save)(d.gameBoardId,p)}t.run=function(){(0,d.log)("loaded"),e=(0,d.load)(d.gameBoardId),t=(0,d.isNotToday)(e),(0,d.log)("wipeBoard:"+t);var e,t=null==e||t?function(){const r=new o;return f.forEach(n=>{let o=n.x,i=n.y;var e=new I(_.EMPTY,!0,n.question,"",n.direction);n.elements.push(e),r.matrix[o][i]=e,Array.from(n.value).forEach(e=>{var t=n.direction.doDirection(o,i),t=(o=t.x,i=t.y,new I(_.EMPTY,!1,e,"",n.direction));n.elements.push(t),r.matrix[o][i]=t})}),r}():e;p=t,(0,d.log)(f),(0,d.log)(t),(0,c.loadTimer)(t),(0,u.loadTrys)(t),(0,d.setHtmlOnElement)("puzzle",function(e){let o="";for(let n=0;n<m;n++){o+=l.line_start;for(let t=0;t<v;t++){var i=e.matrix[t][n];if(i)if(i.isQuestion)o+=l.question.replace(a.question_direction,i.direction.ascii).replace(a.question_text,i.text);else{let e="";i.answer==_.WRONG&&i.input?e='class="wrong"':i.answer==_.CORRECT&&i.input&&(e='class="correct"');var r="onkeypress=checkInput(event) "+e;o+=l.cell.replace(a.cell_attributes,r).replace(a.cell_id,`cell_${t}_`+n).replace(s.cell_value,i.input)}else o+=l.empty_cell}o+=l.line_end}return o}(t)),t.win&&(0,d.setHtmlOnElement)("message",s.win_message)},t.checkInput=function(e){e.preventDefault();var t=document.getElementById(e.target.id);if(t){var n=t.value,e=(t.value=e.key.toUpperCase(),t.setSelectionRange(0,0),t.id.split("_")),o=parseInt(e[1]),e=parseInt(e[2]),i=t.value,o=p.matrix[o][e],o=(o.input=i,e=t,(i=o).text.toLowerCase()===i.input.toLowerCase()?(i.answer=_.CORRECT,e.classList.remove("wrong"),e.classList.add("correct"),!0):(i.answer=_.WRONG,e.classList.remove("correct"),e.classList.add("wrong"),!1)),r=(!0==o?(0,d.disableElement)(t.id):n!=t.value&&(0,u.updateTrys)(p),y(),(0,c.startTimer)(p),p);for(let t=0;t<m;t++)for(let e=0;e<v;e++){var l=r.matrix[e][t];if(l&&l.isQuestion,l&&0==l.isQuestion&&(l.answer==_.WRONG||l.answer==_.EMPTY))return}r.win=!0,(0,c.pauseTimer)(r),y(),(0,d.setHtmlOnElement)("message",s.win_message)}}});